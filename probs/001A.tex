
\prob{001A}{绝对值的最小值}

已知整数$x_0, x_1, \dots, x_n, \dots$满足

\[ \begin{cases}
  x_n = 0 & n = 0 \\
  |x_n| = |x_{n - 1} + 1| & n > 0 \\
\end{cases} \]

求$|x_0 + x_1 + x_2 + \dots + x_{2003}|$的最小值。
\problabels{yellow/数论, green/最值问题}

\ans{$|x_0 + x_1 + \dots + x_{2003}|$的最小值为$34$。}

\subsection{平方}

基本思路：将$|x_0 + x_1 + x_2 + \dots + x_{2003}|$用一个数表示，然后给这个数代入一个值使式子最小。

将等式$|x_n| = |x_{n - 1} + 1|$两边同时平方可得

\begin{align*}
  x_n^2 &= (x_{n - 1} + 1)^2 \\
  &= x_{n - 1}^2 + 2x_{n - 1} + 1 \\
  &= x_{n - 2}^2 + 2(x_{n - 2} + x_{n - 1}) + 2 \\
  &= x_{n - 3}^2 + 2(x_{n - 3} + x_{n - 2} + x_{n - 1}) + 3 \\
  &= x_0^2 + 2(x_0 + x_1 + \dots + x_{n - 1}) + n \\
\end{align*}

因为$x_0 = 0$，代入上式可得

\begin{align*}
  2(x_0 + x_1 + \dots + x_{n - 1}) &= x_n^2 - n \\
  2(x_0 + x_1 + \dots + x_n) &= x_n^2 + 2x_n - n \\
  &= (x_n + 1)^2 - (n + 1) \\
  |x_0 + x_1 + \dots + x_n| &= \frac12|(x_n + 1)^2 - (n + 1)| \\
\end{align*}

当$n = 2003$时，

\[ |x_0 + x_1 + \dots + x_{2003}| = \frac12|(x_{2003} + 1)^2 - 2004| \]

因为$|x_0 + x_1 + \dots + x_{2003}|$是整数，所以$(x_{2003} + 1)^2 - 2004$是偶数，即$x_{2003} + 1$是偶数。

最接近$2004$的完全平方数为$1936 = 44^2$，因此当$x_{2003} + 1 = 44$时，$|x_0 + x_1 + \dots + x_{2003}|$取最小整数值$\sfrac12\cdot|-68| = 34$。

综上，$|x_0 + x_1 + x_2 + \dots + x_{2003}|$的最小值为$34$。\footnote{有多个符合题意的整数组可以得到该最小值，例如当$x_0 = x_2 = x_4 = \dots = x_{1960} = 0, x_1 = x_3 = x_5 = \dots = x_{1959} = -1, x_{1961} = 1, x_{1962} = 2, \dots, x_{2003} = 43$时$|x_0 + x_1 + \dots + x_{2003}|$可取得最小值$34$。}
